@{
    ViewData["Title"] = "Home Page";
}

<div class="container mt-5">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title">Manage Items</h3>
                </div>
                <div class="card-body">
                    <form id="itemForm" method="post" asp-controller="Person" asp-action="AddPerson">
                        <div class="form-group">
                            <label for="itemName">Item Name</label>
                            <input type="text" class="form-control" id="itemName" name="name" placeholder="Enter item name">
                        </div>
                        <div class="form-group">
                            <label for="itemDescription">Description</label>
                            <textarea class="form-control" id="itemDescription" name="description" rows="3" placeholder="Enter description"></textarea>
                        </div>
                        <button type="submit" class="btn btn-success">Add Item</button>
                    </form>
                    <hr>
                    <ul class="list-group" id="itemList">
                        <!-- List items will be dynamically inserted here -->
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('itemForm').addEventListener('submit', function (e) {
        // The form will be submitted to the backend, no need to handle it with JavaScript here
    });

    document.getElementById('itemList').addEventListener('click', function (e) {
        if (e.target.classList.contains('delete-item')) {
            e.target.parentElement.parentElement.remove();
        } else if (e.target.classList.contains('edit-item')) {
            const itemElement = e.target.parentElement.parentElement;
            const itemName = itemElement.querySelector('h5').innerText;
            const itemDescription = itemElement.querySelector('p').innerText;

            document.getElementById('itemName').value = itemName;
            document.getElementById('itemDescription').value = itemDescription;

            itemElement.remove();
        }
    });
</script>
